# Cultural Chronicles - Heritage Archive

## Overview

Cultural Chronicles is an AI-powered Streamlit web application designed to preserve and promote India's diverse cultural heritage through multilingual storytelling. The application allows users to submit cultural stories, folk tales, and traditions in various Indian languages, automatically processes them using AI for language detection and categorization, and provides a searchable archive of cultural content. The system supports multiple input formats including text and images, making it accessible to users with varying technological comfort levels.

## Recent Changes (January 2025)

### Repository Organization
- Added comprehensive documentation: CONTRIBUTING.md, CHANGELOG.md, LICENSE, REPORT.md, README.md
- Created dependencies.txt for package reference
- Added detailed code comments and module documentation
- Structured project with clear file organization and docstrings

### UI/UX Improvements
- Fixed Submit Story page layout: Story Details → Add Images → Additional Information (vertical flow)
- Added subtle orange gradient backgrounds to section headers
- Enhanced Recent Languages display with gradient cards
- Improved search results with colored information cards
- Better error handling and user feedback throughout the application

### Technical Enhancements
- PostgreSQL database integration with SQLite fallback
- Sample data loaded with 6 diverse cultural stories across multiple languages
- Enhanced pagination controls in Browse Stories
- Improved search functionality with better result formatting
- All navigation buttons fully functional and interactive

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework**: Streamlit web framework chosen for rapid prototyping and deployment with minimal frontend complexity
- **Navigation**: Multi-page application architecture using `streamlit-option-menu` for intuitive sidebar navigation between different functionalities
- **Layout**: Wide layout configuration with expandable sidebar for optimal content display and user experience
- **Styling**: Custom CSS with gradient backgrounds and responsive design cards for engaging visual presentation
- **Pages**: Modular page structure with separate Python files for submit, browse, and search functionalities

### Backend Architecture
- **Application Structure**: Monolithic Python application with clear separation of concerns through modular components
- **AI Processing**: Transformers-based pipeline architecture using HuggingFace models for language detection (XLM-RoBERTa) and text classification (BART)
- **Data Layer**: SQLAlchemy ORM abstraction with fallback mechanisms for different database environments
- **File Processing**: PIL-based image optimization and handling with automatic resizing and format conversion
- **Error Handling**: Comprehensive logging and graceful degradation when AI models are unavailable

### Data Storage Solutions
- **Primary Database**: PostgreSQL with SQLAlchemy ORM for production environments, providing ACID compliance and advanced querying capabilities
- **Fallback Storage**: SQLite database for development and environments without PostgreSQL access
- **File Storage**: Local filesystem storage in `uploads/` directory for user-submitted images with UUID-based naming
- **Data Migration**: Built-in migration capability from CSV to database storage for data persistence

### AI Integration Architecture
- **Language Detection**: XLM-RoBERTa model for multilingual language identification with confidence scoring
- **Text Classification**: Zero-shot classification using BART model for automatic story categorization
- **Device Optimization**: Automatic GPU/CPU detection and model loading optimization
- **Model Caching**: Efficient model loading with caching to reduce initialization overhead
- **Graceful Degradation**: System continues functioning even when AI models are unavailable

## External Dependencies

### Core Framework Dependencies
- **Streamlit**: Primary web application framework for user interface and deployment
- **streamlit-option-menu**: Enhanced navigation menu component for better user experience

### AI and Machine Learning
- **transformers**: HuggingFace library for pre-trained language models and NLP pipelines
- **torch**: PyTorch framework for deep learning model execution and GPU optimization
- **Specific Models**:
  - `papluca/xlm-roberta-base-language-detection` for multilingual language detection
  - `facebook/bart-large-mnli` for zero-shot text classification and categorization

### Database and Data Management
- **SQLAlchemy**: Object-relational mapping for database abstraction and query building
- **pandas**: Data manipulation and analysis for CSV handling and data processing
- **PostgreSQL**: Production database system (configurable via environment variables)
- **SQLite**: Fallback database for development and standalone deployments

### Image Processing
- **Pillow (PIL)**: Image processing library for upload handling, optimization, and format conversion

### Deployment Platform
- **Hugging Face Spaces**: Target deployment platform for hosting the Streamlit application with integrated model access